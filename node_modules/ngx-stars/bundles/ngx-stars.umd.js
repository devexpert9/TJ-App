(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('ngx-stars', ['exports', '@angular/core', '@angular/common'], factory) :
    (factory((global['ngx-stars'] = {}),global.ng.core,global.ng.common));
}(this, (function (exports,core,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NgxStarsComponent = /** @class */ (function () {
        function NgxStarsComponent() {
            this.maxStars = 5;
            this.initialStars = 0;
            this.animationSpeed = 100;
            this.wholeStars = false;
            this.ratingOutput = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.editableStars = Array.from(new Array(this.maxStars)).map(function (elem, index) { return new EditableStar(index); });
                this.setRating(this.initialStars);
                if (this.animation) {
                    this.animationInterval = setInterval(this.starAnimation.bind(this), this.animationSpeed);
                }
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.starColorAndPadding = /**
         * @return {?}
         */
            function () {
                return Object.assign({}, this.starColor(), this.starPadding());
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.starColor = /**
         * @return {?}
         */
            function () {
                return { color: this.color || 'crimson' };
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.starPadding = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var padding = '0.5rem';
                if (Number.isInteger(this.size) || this.size > 0 || this.size < 6) {
                    padding = "0." + this.size + "rem";
                }
                return { 'margin-right': this.customPadding || padding };
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.starSize = /**
         * @return {?}
         */
            function () {
                if (!Number.isInteger(this.size) || this.size < 2 || this.size > 5) {
                    return '';
                }
                return "fa-" + this.size + "x";
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.starAnimation = /**
         * @return {?}
         */
            function () {
                this.animationRunning = true;
                if (this.rating < this.maxStars) {
                    this.setRating(this.rating += 0.5);
                }
                else {
                    this.setRating(0);
                }
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.cancelStarAnimation = /**
         * @return {?}
         */
            function () {
                if (this.animationRunning) {
                    clearInterval(this.animationInterval);
                    this.rating = 0;
                    this.animationRunning = false;
                }
            };
        /**
         * @param {?} rating
         * @return {?}
         */
        NgxStarsComponent.prototype.setRating = /**
         * @param {?} rating
         * @return {?}
         */
            function (rating) {
                this.rating = Math.round(rating * 2) / 2;
                this.onStarsUnhover();
            };
        /**
         * @param {?} event
         * @param {?} clickedStar
         * @return {?}
         */
        NgxStarsComponent.prototype.onStarHover = /**
         * @param {?} event
         * @param {?} clickedStar
         * @return {?}
         */
            function (event, clickedStar) {
                this.cancelStarAnimation();
                /** @type {?} */
                var clickedInFirstHalf = this.clickedInFirstHalf(event);
                // fill in either a half or whole star depending on where user clicked
                clickedStar.classname = (!this.wholeStars && clickedInFirstHalf) ? 'fa-star-half-o' : 'fa-star';
                // fill in all stars in previous positions and clear all in later ones
                this.editableStars.forEach(function (star) {
                    if (star.position > clickedStar.position) {
                        star.classname = 'fa-star-o';
                    }
                    else if (star.position < clickedStar.position) {
                        star.classname = 'fa-star';
                    }
                });
            };
        /**
         * @param {?} event
         * @param {?} clickedStar
         * @return {?}
         */
        NgxStarsComponent.prototype.onStarClick = /**
         * @param {?} event
         * @param {?} clickedStar
         * @return {?}
         */
            function (event, clickedStar) {
                this.cancelStarAnimation();
                /** @type {?} */
                var clickedInFirstHalf = this.clickedInFirstHalf(event);
                this.rating = clickedStar.position + ((!this.wholeStars && clickedInFirstHalf) ? 0.5 : 1);
                this.ratingOutput.emit(this.rating);
            };
        // hidden star to left of first star lets user click there to set to 0
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.onZeroStarClick = /**
         * @return {?}
         */
            function () {
                this.setRating(0);
                this.ratingOutput.emit(this.rating);
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.onZeroStarHover = /**
         * @return {?}
         */
            function () {
                // clear all stars
                this.editableStars.forEach(function (star) { return star.classname = 'fa-star-o'; });
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.onStarsUnhover = /**
         * @return {?}
         */
            function () {
                var _this = this;
                // when user stops hovering we want to make stars reflect the last rating applied by clicking
                this.editableStars.forEach(function (star) {
                    /** @type {?} */
                    var starNumber = star.position + 1;
                    if (_this.rating >= starNumber) {
                        star.classname = 'fa-star';
                    }
                    else if (_this.rating > starNumber - 1 && _this.rating < starNumber) {
                        star.classname = 'fa-star-half-o';
                    }
                    else {
                        star.classname = 'fa-star-o';
                    }
                });
            };
        /**
         * @param {?} event
         * @return {?}
         */
        NgxStarsComponent.prototype.clickedInFirstHalf = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var starIcon = /** @type {?} */ (event.target);
                return event.pageX < starIcon.getBoundingClientRect().left + starIcon.offsetWidth / 2;
            };
        /**
         * @return {?}
         */
        NgxStarsComponent.prototype.noop = /**
         * @return {?}
         */
            function () { };
        NgxStarsComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'ngx-stars',
                        template: "<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\">\n\n<div class=\"stars-line\" (mouseleave)=\"readonly ? noop() : onStarsUnhover()\">\n  <i [ngClass]=\"['fa fa-star ' + starSize()]\" class=\"zero-star\" aria-hidden=\"true\" (click)=\"onZeroStarClick()\" (mousemove)=\"readonly ? noop() : onZeroStarHover()\"></i>\n  <div *ngFor=\"let star of editableStars;\" (click)=\"readonly ? noop() : onStarClick($event, star)\" (mousemove)=\"readonly ? noop() : onStarHover($event, star)\">\n    <i [ngClass]=\"['fa ' + starSize(), star.classname]\" [ngStyle]=\"starColorAndPadding()\" aria-hidden=\"true\"></i>\n  </div>\n</div>\n",
                        styles: ["i:not(.zero-star){color:#b42025}.stars-line{display:flex;align-items:center;position:relative}.stars-line>div{z-index:999}.zero-star{color:transparent;position:absolute;left:-16px}"],
                    },] },
        ];
        NgxStarsComponent.propDecorators = {
            maxStars: [{ type: core.Input }],
            initialStars: [{ type: core.Input }],
            readonly: [{ type: core.Input }],
            size: [{ type: core.Input }],
            color: [{ type: core.Input }],
            animation: [{ type: core.Input }],
            animationSpeed: [{ type: core.Input }],
            customPadding: [{ type: core.Input }],
            wholeStars: [{ type: core.Input }],
            ratingOutput: [{ type: core.Output }]
        };
        return NgxStarsComponent;
    }());
    var EditableStar = /** @class */ (function () {
        function EditableStar(position) {
            this.position = position;
            this.classname = 'fa-star-o';
        }
        return EditableStar;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NgxStarsModule = /** @class */ (function () {
        function NgxStarsModule() {
        }
        NgxStarsModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        declarations: [
                            NgxStarsComponent
                        ],
                        exports: [
                            NgxStarsComponent
                        ]
                    },] },
        ];
        return NgxStarsModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.NgxStarsComponent = NgxStarsComponent;
    exports.EditableStar = EditableStar;
    exports.NgxStarsModule = NgxStarsModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXN0YXJzLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbmd4LXN0YXJzL2xpYi9uZ3gtc3RhcnMuY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtc3RhcnMvbGliL25neC1zdGFycy5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtc3RhcnMnLFxuICB0ZW1wbGF0ZTogYDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiaHR0cHM6Ly9zdGFja3BhdGguYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC43LjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzXCI+XG5cbjxkaXYgY2xhc3M9XCJzdGFycy1saW5lXCIgKG1vdXNlbGVhdmUpPVwicmVhZG9ubHkgPyBub29wKCkgOiBvblN0YXJzVW5ob3ZlcigpXCI+XG4gIDxpIFtuZ0NsYXNzXT1cIlsnZmEgZmEtc3RhciAnICsgc3RhclNpemUoKV1cIiBjbGFzcz1cInplcm8tc3RhclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIChjbGljayk9XCJvblplcm9TdGFyQ2xpY2soKVwiIChtb3VzZW1vdmUpPVwicmVhZG9ubHkgPyBub29wKCkgOiBvblplcm9TdGFySG92ZXIoKVwiPjwvaT5cbiAgPGRpdiAqbmdGb3I9XCJsZXQgc3RhciBvZiBlZGl0YWJsZVN0YXJzO1wiIChjbGljayk9XCJyZWFkb25seSA/IG5vb3AoKSA6IG9uU3RhckNsaWNrKCRldmVudCwgc3RhcilcIiAobW91c2Vtb3ZlKT1cInJlYWRvbmx5ID8gbm9vcCgpIDogb25TdGFySG92ZXIoJGV2ZW50LCBzdGFyKVwiPlxuICAgIDxpIFtuZ0NsYXNzXT1cIlsnZmEgJyArIHN0YXJTaXplKCksIHN0YXIuY2xhc3NuYW1lXVwiIFtuZ1N0eWxlXT1cInN0YXJDb2xvckFuZFBhZGRpbmcoKVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgPC9kaXY+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2BpOm5vdCguemVyby1zdGFyKXtjb2xvcjojYjQyMDI1fS5zdGFycy1saW5le2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmV9LnN0YXJzLWxpbmU+ZGl2e3otaW5kZXg6OTk5fS56ZXJvLXN0YXJ7Y29sb3I6dHJhbnNwYXJlbnQ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTZweH1gXSxcbn0pXG5leHBvcnQgY2xhc3MgTmd4U3RhcnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBJbnB1dCgpXG4gIG1heFN0YXJzOiBudW1iZXIgPSA1O1xuXG4gIEBJbnB1dCgpXG4gIGluaXRpYWxTdGFyczogbnVtYmVyID0gMDtcblxuICBASW5wdXQoKVxuICByZWFkb25seTogYm9vbGVhbjtcblxuICBASW5wdXQoKVxuICBzaXplOiBudW1iZXI7XG5cbiAgQElucHV0KClcbiAgY29sb3I6IHN0cmluZztcblxuICBASW5wdXQoKVxuICBhbmltYXRpb246IGJvb2xlYW47XG5cbiAgQElucHV0KClcbiAgYW5pbWF0aW9uU3BlZWQ6IG51bWJlciA9IDEwMDtcblxuICBASW5wdXQoKVxuICBjdXN0b21QYWRkaW5nOiBzdHJpbmc7XG5cbiAgQElucHV0KClcbiAgd2hvbGVTdGFyczogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBPdXRwdXQoKVxuICByYXRpbmdPdXRwdXQ6IEV2ZW50RW1pdHRlcjxudW1iZXI+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHJhdGluZzogbnVtYmVyO1xuICBlZGl0YWJsZVN0YXJzOiBFZGl0YWJsZVN0YXJbXTtcbiAgYW5pbWF0aW9uSW50ZXJ2YWw6IGFueTtcbiAgYW5pbWF0aW9uUnVubmluZzogYm9vbGVhbjtcblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmVkaXRhYmxlU3RhcnMgPSBBcnJheS5mcm9tKG5ldyBBcnJheSh0aGlzLm1heFN0YXJzKSkubWFwKChlbGVtLCBpbmRleCkgPT4gbmV3IEVkaXRhYmxlU3RhcihpbmRleCkpO1xuICAgIHRoaXMuc2V0UmF0aW5nKHRoaXMuaW5pdGlhbFN0YXJzKTtcblxuICAgIGlmICh0aGlzLmFuaW1hdGlvbikge1xuICAgICAgdGhpcy5hbmltYXRpb25JbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuc3RhckFuaW1hdGlvbi5iaW5kKHRoaXMpLCB0aGlzLmFuaW1hdGlvblNwZWVkKTtcbiAgICB9XG4gIH1cblxuICBzdGFyQ29sb3JBbmRQYWRkaW5nKCk6IE9iamVjdCB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhckNvbG9yKCksIHRoaXMuc3RhclBhZGRpbmcoKSk7XG4gIH1cblxuICBwcml2YXRlIHN0YXJDb2xvcigpOiBPYmplY3Qge1xuICAgIHJldHVybiB7IGNvbG9yOiB0aGlzLmNvbG9yIHx8ICdjcmltc29uJyB9O1xuICB9XG5cbiAgcHJpdmF0ZSBzdGFyUGFkZGluZygpOiBPYmplY3Qge1xuICAgIGxldCBwYWRkaW5nID0gJzAuNXJlbSc7XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIodGhpcy5zaXplKSB8fCB0aGlzLnNpemUgPiAwIHx8IHRoaXMuc2l6ZSA8IDYpIHtcbiAgICAgIHBhZGRpbmcgPSBgMC4ke3RoaXMuc2l6ZX1yZW1gO1xuICAgIH1cblxuICAgIHJldHVybiB7ICdtYXJnaW4tcmlnaHQnOiB0aGlzLmN1c3RvbVBhZGRpbmcgfHwgcGFkZGluZyB9O1xuICB9XG5cbiAgc3RhclNpemUoKTogc3RyaW5nIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIodGhpcy5zaXplKSB8fCB0aGlzLnNpemUgPCAyIHx8IHRoaXMuc2l6ZSA+IDUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGBmYS0ke3RoaXMuc2l6ZX14YDtcbiAgfVxuXG4gIHN0YXJBbmltYXRpb24oKTogdm9pZCB7XG4gICAgdGhpcy5hbmltYXRpb25SdW5uaW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5yYXRpbmcgPCB0aGlzLm1heFN0YXJzKSB7XG4gICAgICB0aGlzLnNldFJhdGluZyh0aGlzLnJhdGluZyArPSAwLjUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2V0UmF0aW5nKDApO1xuICAgIH1cbiAgfVxuXG4gIGNhbmNlbFN0YXJBbmltYXRpb24oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYW5pbWF0aW9uUnVubmluZykge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmFuaW1hdGlvbkludGVydmFsKTtcbiAgICAgIHRoaXMucmF0aW5nID0gMDtcbiAgICAgIHRoaXMuYW5pbWF0aW9uUnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHNldFJhdGluZyhyYXRpbmc6IG51bWJlcikge1xuICAgIHRoaXMucmF0aW5nID0gTWF0aC5yb3VuZChyYXRpbmcgKiAyKSAvIDI7XG4gICAgdGhpcy5vblN0YXJzVW5ob3ZlcigpO1xuICB9XG5cbiAgb25TdGFySG92ZXIoZXZlbnQ6IE1vdXNlRXZlbnQsIGNsaWNrZWRTdGFyOiBFZGl0YWJsZVN0YXIpOiB2b2lkIHtcbiAgICB0aGlzLmNhbmNlbFN0YXJBbmltYXRpb24oKTtcblxuICAgIGNvbnN0IGNsaWNrZWRJbkZpcnN0SGFsZiA9IHRoaXMuY2xpY2tlZEluRmlyc3RIYWxmKGV2ZW50KTtcblxuICAgIC8vIGZpbGwgaW4gZWl0aGVyIGEgaGFsZiBvciB3aG9sZSBzdGFyIGRlcGVuZGluZyBvbiB3aGVyZSB1c2VyIGNsaWNrZWRcbiAgICBjbGlja2VkU3Rhci5jbGFzc25hbWUgPSAoIXRoaXMud2hvbGVTdGFycyAmJiBjbGlja2VkSW5GaXJzdEhhbGYpID8gJ2ZhLXN0YXItaGFsZi1vJyA6ICdmYS1zdGFyJztcblxuICAgIC8vIGZpbGwgaW4gYWxsIHN0YXJzIGluIHByZXZpb3VzIHBvc2l0aW9ucyBhbmQgY2xlYXIgYWxsIGluIGxhdGVyIG9uZXNcbiAgICB0aGlzLmVkaXRhYmxlU3RhcnMuZm9yRWFjaChzdGFyID0+IHtcbiAgICAgIGlmIChzdGFyLnBvc2l0aW9uID4gY2xpY2tlZFN0YXIucG9zaXRpb24pIHtcbiAgICAgICAgc3Rhci5jbGFzc25hbWUgPSAnZmEtc3Rhci1vJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHN0YXIucG9zaXRpb24gPCBjbGlja2VkU3Rhci5wb3NpdGlvbikge1xuICAgICAgICBzdGFyLmNsYXNzbmFtZSA9ICdmYS1zdGFyJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uU3RhckNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50LCBjbGlja2VkU3RhcjogRWRpdGFibGVTdGFyKTogdm9pZCB7XG4gICAgdGhpcy5jYW5jZWxTdGFyQW5pbWF0aW9uKCk7XG5cbiAgICAvLyBsb2NrIGluIGN1cnJlbnQgcmF0aW5nXG4gICAgY29uc3QgY2xpY2tlZEluRmlyc3RIYWxmID0gdGhpcy5jbGlja2VkSW5GaXJzdEhhbGYoZXZlbnQpO1xuICAgIHRoaXMucmF0aW5nID0gY2xpY2tlZFN0YXIucG9zaXRpb24gKyAoKCF0aGlzLndob2xlU3RhcnMgJiYgY2xpY2tlZEluRmlyc3RIYWxmKSA/IDAuNSA6IDEpO1xuICAgIHRoaXMucmF0aW5nT3V0cHV0LmVtaXQodGhpcy5yYXRpbmcpO1xuICB9XG5cbiAgLy8gaGlkZGVuIHN0YXIgdG8gbGVmdCBvZiBmaXJzdCBzdGFyIGxldHMgdXNlciBjbGljayB0aGVyZSB0byBzZXQgdG8gMFxuICBvblplcm9TdGFyQ2xpY2soKTogdm9pZCB7XG4gICAgdGhpcy5zZXRSYXRpbmcoMCk7XG4gICAgdGhpcy5yYXRpbmdPdXRwdXQuZW1pdCh0aGlzLnJhdGluZyk7XG4gIH1cblxuICBvblplcm9TdGFySG92ZXIoKTogdm9pZCB7XG4gICAgLy8gY2xlYXIgYWxsIHN0YXJzXG4gICAgdGhpcy5lZGl0YWJsZVN0YXJzLmZvckVhY2goc3RhciA9PiBzdGFyLmNsYXNzbmFtZSA9ICdmYS1zdGFyLW8nKTtcbiAgfVxuXG4gIG9uU3RhcnNVbmhvdmVyKCkge1xuICAgIC8vIHdoZW4gdXNlciBzdG9wcyBob3ZlcmluZyB3ZSB3YW50IHRvIG1ha2Ugc3RhcnMgcmVmbGVjdCB0aGUgbGFzdCByYXRpbmcgYXBwbGllZCBieSBjbGlja2luZ1xuICAgIHRoaXMuZWRpdGFibGVTdGFycy5mb3JFYWNoKHN0YXIgPT4ge1xuICAgICAgY29uc3Qgc3Rhck51bWJlciA9IHN0YXIucG9zaXRpb24gKyAxO1xuICAgICAgaWYgKHRoaXMucmF0aW5nID49IHN0YXJOdW1iZXIpIHtcbiAgICAgICAgc3Rhci5jbGFzc25hbWUgPSAnZmEtc3Rhcic7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnJhdGluZyA+IHN0YXJOdW1iZXIgLSAxICYmIHRoaXMucmF0aW5nIDwgc3Rhck51bWJlcikge1xuICAgICAgICBzdGFyLmNsYXNzbmFtZSA9ICdmYS1zdGFyLWhhbGYtbyc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3Rhci5jbGFzc25hbWUgPSAnZmEtc3Rhci1vJztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2xpY2tlZEluRmlyc3RIYWxmKGV2ZW50OiBNb3VzZUV2ZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3Rhckljb24gPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgcmV0dXJuIGV2ZW50LnBhZ2VYIDwgc3Rhckljb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIHN0YXJJY29uLm9mZnNldFdpZHRoIC8gMjtcbiAgfVxuXG4gIG5vb3AoKTogdm9pZCB7fVxufVxuXG5leHBvcnQgY2xhc3MgRWRpdGFibGVTdGFyIHtcbiAgcG9zaXRpb246IG51bWJlcjtcbiAgY2xhc3NuYW1lOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocG9zaXRpb246IG51bWJlcikge1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLmNsYXNzbmFtZSA9ICdmYS1zdGFyLW8nO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmd4U3RhcnNDb21wb25lbnQgfSBmcm9tICcuL25neC1zdGFycy5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBOZ3hTdGFyc0NvbXBvbmVudFxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgTmd4U3RhcnNDb21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hTdGFyc01vZHVsZSB7IH1cbiJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJDb21wb25lbnQiLCJJbnB1dCIsIk91dHB1dCIsIk5nTW9kdWxlIiwiQ29tbW9uTW9kdWxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7O1lBaUJFLGdCQUNtQixDQUFDLENBQUM7WUFFckIsb0JBQ3VCLENBQUMsQ0FBQztZQWN6QixzQkFDeUIsR0FBRyxDQUFDO1lBSzdCLGtCQUNzQixLQUFLLENBQUM7WUFFNUIsb0JBQ3FDLElBQUlBLGlCQUFZLEVBQUUsQ0FBQzs7Ozs7UUFPeEQsb0NBQVE7OztZQUFSO2dCQUNFLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBQyxJQUFJLEVBQUUsS0FBSyxJQUFLLE9BQUEsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUEsQ0FBQyxDQUFDO2dCQUN4RyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztnQkFFbEMsSUFBSSxJQUFJ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