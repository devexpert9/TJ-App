{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{ScsU:function(t,n){t.exports='\\n<ion-content>\\n<div class=\"ion-padding\">\\n<div header_height></div>\\n\\x3c!-- Breadcrumb Start --\\x3e\\n\\t\\t<div breadcrumb  class=\"ion-hide-md-down\">\\t\\t\\n\\t\\t\\t\\t<div breadcrumb-inner>\\n\\t\\t\\t\\t\\t<ul list-inline list-unstyled>\\n\\t\\t\\t\\t\\t\\t<li><a routerLink=\"/home\">Home</a></li>\\n\\t\\t\\t\\t\\t\\t<li class=\"active\">Checkout</li>\\n\\t\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t</div>\\x3c!-- /.breadcrumb-inner --\\x3e\\n\\t\\t</div>\\n\\x3c!-- Breadcrumb Ends --\\x3e\\n\\x3c!---Checkout Section Start --\\x3e\\n\\t<div checkout-box>\\n\\t\\t   <ion-row *ngIf=\"total_payable_price == 0 && is_loaded == true\">\\n\\t\\t   \\t\\t<ion-item>No items in cart to checkout.</ion-item>\\n\\t\\t   </ion-row>\\n\\t\\t   <ion-row >\\n\\t\\t     <ion-col size-md=\"8\" size-sm=\"12\" size=\"12\">\\n\\t\\t\\t\\t <ion-card panel panel-default no-margin padding >\\n\\t\\t\\t     \\t <div panel-heading  checkout-head>\\n\\t\\t\\t\\t\\t    <h4>\\n\\t\\t\\t\\t\\t\\t   <a href=\"javascript:void(0)\"  >\\n\\t\\t\\t\\t\\t\\t      <span><i class=\"fa fa-file-text\" aria-hidden=\"true\"></i></span>  Billing Address\\n\\t\\t\\t\\t\\t\\t   </a>\\n\\t\\t\\t\\t\\t\\t</h4>\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t\\t </div>\\n\\t\\t\\t\\t\\t <div class=\"pad_10\" panel-body >\\n\\t\\t\\t     \\t \\t{{a_first_name}} {{a_last_name}}<br>\\n\\t\\t\\t     \\t \\t{{a_address}}, {{a_city}}, {{a_state}}, {{a_zip}} (\\n\\t\\t\\t     \\t \\t{{a_country}})\\n\\t\\t\\t     \\t \\t<br>\\n\\t\\t\\t     \\t \\tcontact:- {{a_phone_number}}\\n\\t\\t\\t     \\t \\t\\n\\t\\t\\t     \\t </div>\\n\\t\\t     \\t </ion-card>\\n\\t\\t\\t  </ion-col>\\n\\t\\t    <ion-col size-md=\"4\" size-sm=\"12\" size=\"12\">\\n\\t\\t\\t    <div checkout-progress-sidebar>\\n\\t\\t\\t\\t   <ion-card  panel panel-default  no-margin padding *ngIf=\"is_wholesale == true\">\\n\\t\\t\\t\\t      <div panel-heading>\\n\\t\\t\\t\\t\\t     <h4  unicase-checkout-title text-uppercase>\\n\\t\\t\\t\\t\\t\\t     Discount Coupon\\n\\t\\t\\t\\t\\t\\t </h4>\\t\\t\\t\\t\\t  \\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t  <div price_single_cost *ngIf=\"is_coupon_applied == false\">\\n\\t\\t\\t\\t\\t    <p>Enter your coupon code if you have one..</p>\\n\\t\\t\\t\\t\\t\\t<div class=\"form-group\">\\n\\t\\t\\t\\t\\t\\t\\t<input [(ngModel)]=\"coupon_code\" type=\"text\" class=\"form-control unicase-form-control text-input\" placeholder=\"Your Coupon..\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"clearfix\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-button color=\"darkred\" (click)=\"applyCoupon()\">\\n\\t\\t\\t\\t\\t\\t\\t\\tAPPLY COUPON\\n\\t\\t\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t  <div price_single_cost *ngIf=\"is_coupon_applied == true\">\\n\\t\\t\\t\\t\\t    <p>Coupon {{coupon_code}} applied \\n\\t\\t\\t\\t\\t\\t<ion-button icon action-icons del-icon (click)=\"removeCoupon()\">\\n\\t\\t\\t\\t\\t\\t\\t<ion-icon name=\"close\"></ion-icon>\\n\\t\\t\\t\\t\\t\\t</ion-button>\\n\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t   </ion-card>\\n\\t\\t\\t\\t   <ion-card panel panel-default  no-margin padding>\\n\\t\\t\\t\\t      <div panel-heading>\\n\\t\\t\\t\\t\\t     <h4 unicase-checkout-title text-uppercase>\\n\\t\\t\\t\\t\\t\\t     Your order\\t\\n\\t\\t\\t\\t\\t\\t </h4> \\t\\t\\t\\t\\t  \\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t  <div price_single_cost>\\n\\t\\t\\t\\t\\t    <h4>Subtotal <span float-right>${{total_payable_price}}</span></h4>\\n\\t\\t\\t\\t\\t    <h4>Shipping  <span float-right>$0</span></h4>\\n\\t\\t\\t\\t\\t    <h4 *ngIf=\"is_coupon_applied == true\">Coupon applied <span float-right>-${{coupon_amount}}</span></h4>\\n\\t\\t\\t\\t\\t    <h3>Total Cost <span float-right>${{grand_total}}</span></h3>\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t   </ion-card >\\t\\t   \\n\\t\\t\\t\\t  <ion-card  panel panel-default  no-margin padding>\\n\\t\\t\\t\\t      <div panel-heading>\\n\\t\\t\\t\\t\\t     <h4  unicase-checkout-title text-uppercase>\\n\\t\\t\\t\\t\\t\\t     Payment Information\\n\\t\\t\\t\\t\\t\\t </h4>\\t\\t\\t\\t\\t  \\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t  <div price_single_cost payment-info style=\"margin-left: 7%;\">\\n\\t\\t\\t\\t\\t       \\x3c!-- <p  title-tag-line>Register with us for future convenience:</p> --\\x3e\\n\\t\\t\\t\\t\\t      \\n\\t\\t\\t\\t\\t\\t\\t<div class=\"radio radio-checkout-unicase\">  \\n\\t\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input id=\"pay1\" type=\"radio\" name=\"pay_type\" value=\"1\"  [ngClass]=\"{\\'active\\': payment_method === \\'paypal\\'}\"  (click)=\"payment_method = \\'paypal\\';\">  \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\"radio-button\" for=\"pay1\">Paypal</label>  \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  <br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input checked id=\"pay2\" type=\"radio\" name=\"pay_type\" value=\"2\"  [ngClass]=\"{\\'active\\': payment_method === \\'cash\\'}\"  (click)=\"cashClicked()\">  \\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label class=\"radio-button\" for=\"pay2\">Cash on Delivery</label> \\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\t\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n                                   \\t\\t\\t\\t\\t\\t\\t \\t\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t  \\t<div *ngIf=\"is_paypal_web_enabled == true\" id=\"paypal-button-container\"></div>\\n\\t\\t\\t\\t\\t   <ion-button *ngIf=\"is_paypal_web_enabled != true\" color=\"darkred\" (click)=\"finalCheckout()\" >\\n\\t\\t\\t\\t\\t\\t Proceed To Checkout\\n\\t\\t\\t\\t\\t   </ion-button>\\n\\t\\t\\t\\t   </ion-card >\\t\\n\\t\\t\\t\\t    \\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ion-col>\\n\\t\\t   </ion-row>\\t\\n\\n\\t</div>\\n</div>\\n\\x3c!---Checkout Section Ends --\\x3e\\n<app-footer></app-footer>\\n</ion-content>\\n'},svo5:function(t,n){t.exports='ion-content {\\n  --background:var(--ion-color-grey);\\n  /* checkout section start */\\n  /* checkout section ends */ }\\n  ion-content .pad_10 {\\n    padding: 10px; }\\n  ion-content ion-card[panel] {\\n    background: #f5f5f5; }\\n  ion-content ion-card[panel] a {\\n      font-family: var(--ion-font-family-2);\\n      color: var(--ion-color-darkblack3);\\n      text-transform: uppercase;\\n      display: block;\\n      margin: var(--ion-margin-0);\\n      font-size: var(--ion-font-size-13);\\n      font-weight: bold;\\n      text-decoration: none; }\\n  ion-content ion-card[panel] a span {\\n        color: var(--ion-color-white);\\n        display: inline-block;\\n        margin-right: var(--ion-margin-10);\\n        padding: var(--ion-padding-15) var(--ion-padding-20);\\n        background: #aaaaaa; }\\n  @media only screen and (max-width: 991px) {\\n    ion-content {\\n      --padding-top:var(--ion-padding-8)!important;\\n      --padding-bottom:var(--ion-padding-8)!important;\\n      --padding-start:var(--ion-padding-8)!important;\\n      --padding-end:var(--ion-padding-8)!important; } }\\n  ion-content [checkout-box] {\\n    /* Left Section Start */\\n    /* Right Section Start */\\n    /* Right Section Ends */ }\\n  @media only screen and (max-width: 991px) {\\n      ion-content [checkout-box] ion-card {\\n        padding: var(--ion-padding-0); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card {\\n      margin-bottom: var(--ion-margin-20); }\\n  @media only screen and (max-width: 991px) {\\n        ion-content [checkout-box] [checkout-progress-sidebar] ion-card {\\n          margin-bottom: var(--ion-margin-10);\\n          padding-bottom: var(--ion-padding-10); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [panel-heading] h4[unicase-checkout-title] {\\n        margin: var(--ion-margin-0);\\n        font-size: var(--ion-font-size-14);\\n        font-weight: bold;\\n        border-bottom: 1px #e5e5e5 solid;\\n        padding-bottom: var(--ion-padding-14);\\n        margin-bottom: var(--ion-margin-10);\\n        font-family: var(--ion-font-family-2);\\n        color: var(--ion-color-darkblack); }\\n  @media only screen and (max-width: 991px) {\\n          ion-content [checkout-box] [checkout-progress-sidebar] ion-card [panel-heading] h4[unicase-checkout-title] {\\n            padding: var(--ion-padding-15);\\n            margin-bottom: var(--ion-margin-0); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] {\\n        font-family: var(--ion-font-family-2); }\\n  @media only screen and (max-width: 991px) {\\n          ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost][payment-info] {\\n            padding: var(--ion-padding-15) var(--ion-padding-15) var(--ion-padding-0); }\\n            ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost][payment-info] [checks-lft] ion-item {\\n              border-bottom: 1px solid #eee; } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] {\\n          background: var(--ion-color-greyf8);\\n          padding: var(--ion-padding-15) var(--ion-padding-15) var(--ion-padding-15);\\n          margin-bottom: var(--ion-margin-25);\\n          display: none;\\n          border: 1px solid #eee; }\\n  @media only screen and (max-width: 991px) {\\n            ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] {\\n              background: var(--ion-color-white);\\n              padding: var(--ion-padding-0);\\n              border: none; } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] ion-input, ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] ion-select {\\n            height: var(--ion-wh-36) !important; }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] ion-select {\\n            padding: var(--ion-padding-7) var(--ion-padding-10) !important; }\\n  @media only screen and (max-width: 991px) {\\n              ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] ion-select {\\n                border: none; } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] h2 {\\n            color: var(--ion-color-darkblack);\\n            border: none;\\n            font-weight: 700;\\n            font-size: var(--ion-font-size-18);\\n            margin-bottom: var(--ion-margin-15);\\n            margin-top: var(--ion-margin-0);\\n            border-bottom: 1px solid #eee;\\n            padding-bottom: var(--ion-padding-15); }\\n  @media only screen and (max-width: 991px) {\\n              ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] h2 {\\n                font-size: var(--ion-font-size-14); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] [card-psys] img {\\n            width: 200px; }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc] [w-50s] {\\n            width: 48%;\\n            display: inline-block; }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] [desc].active {\\n            display: block; }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] h4 {\\n          font-size: var(--ion-font-size-14);\\n          font-weight: normal;\\n          color: #797979;\\n          border-bottom: 1px solid #eee;\\n          padding: var(--ion-padding-12) var(--ion-padding-10);\\n          margin-bottom: var(--ion-margin-0); }\\n  @media only screen and (max-width: 991px) {\\n            ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] h4 {\\n              font-size: var(--ion-font-size-14);\\n              padding: var(--ion-padding-12) var(--ion-padding-15);\\n              margin-top: var(--ion-margin-0); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] h3 {\\n          font-size: var(--ion-font-size-18);\\n          font-weight: bold;\\n          color: var(--ion-color-darkblack4);\\n          text-transform: uppercase;\\n          margin-bottom: var(--ion-margin-10);\\n          margin-top: var(--ion-margin-14); }\\n  @media only screen and (max-width: 991px) {\\n            ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] h3 {\\n              font-size: var(--ion-font-size-14);\\n              padding: var(--ion-padding-0) var(--ion-padding-15); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] p {\\n          font-size: var(--ion-font-size-14);\\n          color: var(--ion-color-darkblack);\\n          font-family: var(--ion-font-family-2); }\\n  @media only screen and (max-width: 991px) {\\n          ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] .radio-checkout-unicase ion-label {\\n            font-size: var(--ion-font-size-14); } }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] .radio-checkout-unicase input[type=\"radio\"] {\\n          margin-left: var(--ion-margin-0); }\\n  ion-content [checkout-box] [checkout-progress-sidebar] ion-card [price_single_cost] .radio-checkout-unicase .radio-button {\\n          margin-bottom: var(--ion-margin-10);\\n          font-size: var(--ion-font-size-14);\\n          color: var(--ion-color-darkblack);\\n          font-family: var(--ion-font-family-2); }\\n  ion-content [checkout-box] ion-card {\\n      background: var(--ion-color-white);\\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.08);\\n      /* Left Section Ends */ }\\n  ion-content [checkout-box] ion-card [panel-heading][checkout-head] {\\n        background: #f5f5f5; }\\n  ion-content [checkout-box] ion-card [panel-heading][checkout-head] h4 {\\n          margin-top: var(--ion-margin-0); }\\n  @media only screen and (max-width: 991px) {\\n            ion-content [checkout-box] ion-card [panel-heading][checkout-head] h4 {\\n              margin-bottom: var(--ion-margin-0); } }\\n  ion-content [checkout-box] ion-card [panel-heading][checkout-head] h4 a {\\n            font-family: var(--ion-font-family-2);\\n            color: var(--ion-color-darkblack3);\\n            text-transform: uppercase;\\n            display: block;\\n            margin: var(--ion-margin-0);\\n            font-size: var(--ion-font-size-13);\\n            font-weight: bold;\\n            text-decoration: none; }\\n  ion-content [checkout-box] ion-card [panel-heading][checkout-head] h4 a.selected span {\\n              background: var(--ion-color-darkred); }\\n  ion-content [checkout-box] ion-card [panel-heading][checkout-head] h4 a span {\\n              color: var(--ion-color-white);\\n              display: inline-block;\\n              margin-right: var(--ion-margin-10);\\n              padding: var(--ion-padding-15) var(--ion-padding-20);\\n              background: #aaaaaa; }\\n  @media only screen and (max-width: 991px) {\\n        ion-content [checkout-box] ion-card [panel-body] .register-form ion-col {\\n          padding-left: var(--ion-padding-0);\\n          padding-right: var(--ion-padding-0); } }\\n  ion-content [checkout-box] ion-card [panel-body] .register-form [checkbox] {\\n        display: block; }\\n  @media only screen and (max-width: 991px) {\\n          ion-content [checkout-box] ion-card [panel-body] .register-form [checkbox] {\\n            padding-left: var(--ion-padding-15);\\n            padding-right: var(--ion-padding-15); } }\\n  ion-content [checkout-box] ion-card [panel-body] .register-form [checkbox] label, ion-content [checkout-box] ion-card [panel-body] .register-form [checkbox] ion-label {\\n          font-size: var(--ion-font-size-14);\\n          font-family: var(--ion-font-family-2);\\n          font-weight: normal;\\n          color: var(--ion-color-darkblack); }\\n  ion-content [checkout-box] ion-card [form-group] {\\n        --background: transparent!important;\\n        margin-bottom: var(--ion-margin-10); }\\n  @media only screen and (max-width: 991px) {\\n          ion-content [checkout-box] ion-card [form-group] {\\n            margin-bottom: var(--ion-margin-0); } }\\n  ion-content [checkout-box] ion-card [form-group] ion-label {\\n          display: inline-block;\\n          max-width: 100%;\\n          margin-bottom: var(--ion-margin-5);\\n          font-weight: 700;\\n          color: var(--ion-color-darkblack);\\n          font-size: var(--ion-font-size-14);\\n          font-family: var(--ion-font-family-2);\\n          -webkit-transform: scale(1);\\n                  transform: scale(1); }\\n  @media only screen and (max-width: 991px) {\\n            ion-content [checkout-box] ion-card [form-group] ion-label {\\n              margin-bottom: var(--ion-margin-0);\\n              font-weight: normal;\\n              display: block; } }\\n  ion-content [checkout-box] ion-card [form-group] ion-input, ion-content [checkout-box] ion-card [form-group] ion-select {\\n          border-radius: var(--ion-value-3);\\n          box-shadow: none;\\n          font-size: var(--ion-font-size-14);\\n          border: 1px solid #eee;\\n          background: var(--ion-color-white);\\n          height: var(--ion-wh-42) !important;\\n          padding: var(--ion-padding-10) var(--ion-padding-10) !important;\\n          font-family: var(--ion-font-family-2); }\\n  @media only screen and (max-width: 991px) {\\n            ion-content [checkout-box] ion-card [form-group] ion-input, ion-content [checkout-box] ion-card [form-group] ion-select {\\n              background: transparent;\\n              height: auto;\\n              border-radius: var(--ion-value-0);\\n              border-width: var(--ion-value-0) var(--ion-value-0) 1px var(--ion-value-0);\\n              /*padding:  inherit!important; */ } }\\n  ion-content [checkout-box] ion-button {\\n      font-family: var(--ion-font-family-2);\\n      --border-radius:0px;\\n      --box-shadow:none; }\\n  ion-content [checkout-box] ion-button:hover {\\n        opacity: 0.8; }\\n  @media only screen and (max-width: 991px) {\\n        ion-content [checkout-box] ion-button {\\n          font-size: var(--ion-font-size-14);\\n          margin-left: var(--ion-margin-15); } }\\n'},vz8H:function(t,n,o){\"use strict\";o.r(n);var e=o(\"mrSG\"),i=o(\"CcnG\"),a=o(\"Ip0R\"),r=o(\"gIcY\"),c=o(\"ZYCi\"),s=o(\"ZZ/e\"),d=o(\"Vx+w\"),p=o(\"CFL1\"),l=o(\"mCPD\"),u=function(){function t(t,n,o,e,i,a,r){this.userService=t,this.toastController=n,this.loadingController=o,this.router=e,this.events=i,this.activatedRoute=a,this.payPal=r,this.total_payable_price=0,this.grand_total=0,this.errors=[\"\",null,void 0],this.buttonClickeddrop=!1,this.a_last_name=\"\",this.is_loaded=!1,this.is_coupon_applied=!1,this.is_paypal_web_enabled=!1,this.address_type=\"0\",this.wishlist=\"\",this.isBrowser=localStorage.getItem(\"isBrowser\")}return t.prototype.ngOnInit=function(){},t.prototype.ionViewDidEnter=function(){this.transaction_id=\"\";this.activatedRoute.snapshot.paramMap.get(\"direct\");var t=localStorage.getItem(\"sin_auth_token\");this.userId=this.userService.decryptData(t,d.a.ENC_SALT),this.payment_method=\"cash\",this.wishlist=JSON.parse(localStorage.getItem(\"wishlist\")),console.log(this.wishlist),this.a_first_name=this.wishlist.userData[0].name,this.a_last_name=this.wishlist.userData[0].lname,this.a_address=this.wishlist.wish_full_address,this.a_city=this.wishlist.wish_city,this.a_state=this.wishlist.wish_state,this.a_country=this.wishlist.country_name,this.a_phone_number=this.wishlist.wish_phone,this.a_zip=this.wishlist.wish_zip,this.a_email_address=this.wishlist.wish_email,this.calculateTotalPrice(),this.getProfile()},t.prototype.initializePaypalWeb=function(){var t=this;setTimeout(function(){window.paypal.Buttons({style:{color:\"blue\",shape:\"pill\",label:\"pay\",height:40},createOrder:function(n,o){return o.order.create({purchase_units:[{amount:{value:t.grand_total}}]})},onApprove:function(n,o){return o.order.capture().then(function(n){\"COMPLETED\"==n.status?(t.transaction_id=n.purchase_units[0].payments.captures[0].id,t.placeOrder()):t.presentToast(\"Payment unsuccessful!\",\"danger\")}).catch(function(n){t.presentToast(\"Error while processing payment!\",\"danger\")})}}).render(\"#paypal-button-container\")},500)},t.prototype.ionViewWillUnload=function(){this.events.unsubscribe(\"current_address_changed:true\")},t.prototype.applyCoupon=function(){var t=this;if(this.errors.indexOf(this.coupon_code)>=0)return this.presentToast(\"Please enter coupon code.\",\"danger\"),!1;this.presentLoading(),this.userService.postData({coupon_code:this.coupon_code,user_id:this.userId},\"applyCoupon\").subscribe(function(n){t.stopLoading(),1==n.status?(t.presentToast(\"Coupon applied successfully.\",\"success\"),t.applied_coupon_id=n.coupon.coupon_id,t.is_coupon_applied=!0,t.coupon_amount=Number(n.coupon.discount_value),t.applied_coupon_type=n.coupon.discount_type,t.calculateTotalPrice()):2==n.status?t.presentToast(\"Coupon already applied.\",\"danger\"):t.presentToast(\"Invalid coupon.\",\"danger\")},function(n){t.presentToast(\"Error,Please try after some time.\",\"danger\"),t.stopLoading()})},t.prototype.removeCoupon=function(){this.applied_coupon_id=0,this.coupon_code=\"\",this.is_coupon_applied=!1,this.coupon_amount=0,this.calculateTotalPrice()},t.prototype.getCartProducts=function(){var t=this;this.presentLoading(),this.userService.postData({user_id:this.userId},\"getCartProducts\").subscribe(function(n){t.is_loaded=!0,t.stopLoading(),t.cart=n.products,\"\"!=t.cart&&t.calculateTotalPrice()},function(n){t.is_loaded=!0,t.stopLoading(),t.cart=[]})},t.prototype.getProfile=function(){var t=this;this.userService.postData({userId:this.userId},\"getProfile\").subscribe(function(n){t.profile=n.profile,t.cards=n.cards,t.countries=n.countries},function(n){t.presentToast(\"Error,Please try after some time.\",\"danger\")})},t.prototype.cardSelected=function(t){this.selected_card=t.target.value,this.choosed_card=this.cards[this.selected_card]},t.prototype.finalCheckout=function(){var t;t=this.a_address+\" \"+this.a_city+\" \"+this.a_state+\" \"+this.a_country,this.choosed_address={address_first_name:this.a_first_name,address_last_name:null==this.a_last_name?\" \":this.a_last_name,full_address:this.a_address,address_city:this.a_city,address_state:this.a_state,address_country:this.a_country,address_phone:this.a_phone_number,address_zip_code:this.a_zip,set_as_default:0,user_id:this.userId,isAdd:1,address_id:null};var n=this;(new google.maps.Geocoder).geocode({address:t},function(t,o){var e=\"\",i=\"\";\"OK\"===o&&(e=t[0].geometry.location.lat(),i=t[0].geometry.location.lng()),n.choosed_address.latitude=e,n.choosed_address.longitude=i,\"paypal\"==n.payment_method?\"false\"==n.isBrowser?n.payWithPaypal():(console.log(\"enter4\"),n.is_paypal_web_enabled=!0,setTimeout(function(){n.initializePaypalWeb()},3e3)):n.placeOrder()})},t.prototype.placeOrder=function(){for(var t=this,n=0;n<this.wishlist.products.length;n++)this.wishlist.products[n].product_quantity=1;var o={user_id:this.userId,products:this.wishlist.products,address:this.choosed_address,payment_method:this.payment_method,payment_card:this.choosed_card,coupon:this.is_coupon_applied,coupon_id:this.errors.indexOf(this.coupon_id)>=0?0:this.coupon_id,total_amount:this.grand_total,transaction_id:this.transaction_id,wish_id:this.wishlist.wish_id,is_registry:this.wishlist.user_id==this.userId?0:1,shared_by:this.wishlist.user_id};this.presentLoading(),this.userService.postData(o,\"place_order\").subscribe(function(n){if(1==n.status){localStorage.removeItem(\"sin_wholesale_items\"),t.transaction_id=\"\";t.stopLoading(),t.presentToast(\"Success! Your order has been placed successfully.\",\"success\"),t.router.navigate([\"/thankyou/\"+n.products])}else t.stopLoading(),t.presentToast(\"Error:\"+n.msg,\"danger\")},function(n){t.stopLoading(),t.presentToast(\"Error,Please try after some time.\",\"danger\")})},t.prototype.payWithPaypal=function(){var t=this;this.payPal.init({PayPalEnvironmentProduction:d.a.PAYPAL_PRODUCTION_CLIENT_ID,PayPalEnvironmentSandbox:d.a.PAYPAL_SANDBOX_CLIENT_ID}).then(function(){t.payPal.prepareToRender(d.a.PAYPAL_ENVIRONMENT,new l.b({payPalShippingAddressOption:2})).then(function(){var n=new l.c(t.grand_total.toString(),\"USD\",\"Siniyetu payment\",\"sale\");t.payPal.renderSinglePaymentUI(n).then(function(n){t.transaction_id=n.response.id,t.placeOrder()},function(n){t.presentToast(\"Payment unsuccessful!\",\"danger\")})},function(n){t.presentToast(\"Error while processing payment!\",\"danger\")})},function(n){t.presentToast(\"Error while processing payment!\",\"danger\")})},t.prototype.calculateTotalPrice=function(){var t=this;this.total_payable_price=0,this.grand_total=0,this.wishlist.products.forEach(function(n){if(0!=Number(n.wholesale_price)&&Number(1)>=Number(n.wholesale_products)&&-1==t.errors.indexOf(n.wholesale_products))t.total_payable_price=Number(t.total_payable_price)+1*n.wholesale_price;else if(1==n.is_variation)t.total_payable_price=Number(t.total_payable_price)+1*n.product_price;else if(-1==t.errors.indexOf(n.product_sale_price)&&n.product_sale_price!=n.product_purchase_price)if(null!=n.discount_per_piece)if(\"%\"==n.discount_type){var o=Number(n.product_sale_price)-Number(n.discount_per_piece)/Number(n.product_sale_price)*100;t.total_payable_price=Number(t.total_payable_price)+1*o}else{o=Number(n.product_sale_price)-Number(n.discount_per_piece);t.total_payable_price=Number(t.total_payable_price)+1*o}else t.total_payable_price=Number(t.total_payable_price)+1*n.product_sale_price;else if(null!=n.discount_per_piece)if(\"%\"==n.discount_type){o=Number(n.product_purchase_price)-Number(n.discount_per_piece)/Number(n.product_purchase_price)*100;t.total_payable_price=Number(t.total_payable_price)+1*o}else{o=Number(n.product_purchase_price)-Number(n.discount_per_piece);t.total_payable_price=Number(t.total_payable_price)+1*o}else t.total_payable_price=Number(t.total_payable_price)+1*n.product_purchase_price});var n=0;1==this.is_coupon_applied&&(n=\"Percent\"==this.applied_coupon_type?this.coupon_amount/100*this.total_payable_price:this.coupon_amount),this.coupon_amount=n,this.grand_total=this.total_payable_price-Number(n),this.total_payable_price=Number(this.total_payable_price.toFixed(2)),this.grand_total=Number(this.grand_total.toFixed(2))},t.prototype.cashClicked=function(){this.payment_method=\"cash\",this.is_paypal_web_enabled=!1},t.prototype.presentToast=function(t,n){return e.b(this,void 0,void 0,function(){return e.e(this,function(o){switch(o.label){case 0:return[4,this.toastController.create({message:t,duration:3e3,position:\"bottom\",color:n,showCloseButton:!0})];case 1:return o.sent().present(),[2]}})})},t.prototype.presentLoading=function(){return e.b(this,void 0,void 0,function(){var t;return e.e(this,function(n){switch(n.label){case 0:return t=this,[4,this.loadingController.create()];case 1:return t.loading=n.sent(),[4,this.loading.present()];case 2:return n.sent(),[2]}})})},t.prototype.stopLoading=function(){return e.b(this,void 0,void 0,function(){var t;return e.e(this,function(n){switch(n.label){case 0:return null==this.loading?[3,2]:[4,this.loading.dismiss()];case 1:return n.sent(),[3,3];case 2:t=this,setTimeout(function(){t.stopLoading()},1e3),n.label=3;case 3:return[2]}})})},t=e.c([Object(i.Component)({selector:\"app-wishlist-checkout\",template:o(\"ScsU\"),styles:[o(\"svo5\")]}),e.f(\"design:paramtypes\",[p.a,s.m,s.h,c.h,s.c,c.a,l.a])],t)}(),h=o(\"PCNd\");o.d(n,\"WishlistCheckoutPageModule\",function(){return g});var _=[{path:\"\",component:u}],g=function(){function t(){}return t=e.c([Object(i.NgModule)({imports:[a.CommonModule,r.a,s.f,h.a,c.j.forChild(_)],declarations:[u]})],t)}()}}]);","extractedComments":[]}