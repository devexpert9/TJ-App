{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{OM9T:function(t,n){t.exports='\\x3c!-- <ion-header class=\"ion-hide-lg-up\">\\n  <ion-toolbar color=\"darkred\"  text-uppercase>\\n <ion-buttons slot=\"start\">\\n      <ion-back-button defaultHref=\"user-contacts\"></ion-back-button>\\n    </ion-buttons>\\n\\t\\t<ion-buttons slot=\"end\">\\n  <ion-icon name=\"videocam\"></ion-icon>\\n    </ion-buttons>\\n    <ion-title>\\n     <ion-item no-padding lines=\"none\" style=\"--background:transparent;color:var(--ion-color-white)\">\\n\\t\\t  <ion-avatar slot=\"start\">\\n\\t\\t\\t<img src=\"assets/images/avatar.png\">\\n\\t\\t\\t<span></span>\\n\\t\\t  </ion-avatar>\\n\\t\\t  <ion-label>\\n\\t\\t  <h3>John Smith</h3>\\n\\t\\t  <p>Online</p>\\n\\t\\t  </ion-label>\\n\\t\\t</ion-item>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header> --\\x3e \\n<ion-content>\\n<div header_height></div>\\n\\t\\x3c!-- Breadcrumb Start --\\x3e\\n\\t\\t<div breadcrumb  class=\"ion-hide-md-down\">\\t\\t\\n\\t\\t\\t<div breadcrumb-inner>\\n\\t\\t\\t\\t<ul list-inline list-unstyled>\\n\\t\\t\\t\\t\\t<li><a routerLink=\"/home\">Home</a></li>\\n\\t\\t\\t\\t\\t<li class=\"active\">messages</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t</div>\\x3c!-- /.breadcrumb-inner --\\x3e\\n\\t\\t</div>\\n\\x3c!-- Breadcrumb Ends --\\x3e\\n\\t\\t   <ion-row>\\n\\t\\t   <ion-col size-lg=\"4\" size-md=\"3\">\\n\\t\\t   \\t\\t<div class=\"headind_srch\">\\n\\t\\t\\t\\t\\t<div class=\"recent_heading\">\\n\\t\\t\\t\\t\\t  <h4>Recent</h4>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"srch_bar\">\\n\\t\\t\\t\\t\\t  <div class=\"stylish-input-group\">\\n\\t\\t\\t\\t\\t\\t<input type=\"text\" class=\"search-bar\"  placeholder=\"Search\" >\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t<div class=\"inbox_chat scroll\" *ngFor=\"let user of chat_users\">\\n\\t\\t\\t\\t\\t<div class=\"chat_list active_chat\" (click)=\"getChat(user)\">\\n\\t\\t\\t\\t\\t  <div class=\"chat_people\">\\n\\t\\t\\t\\t\\t\\t<div class=\"chat_img\"> \\n\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\"errors.indexOf(user?.profile_picture) >= 0\" src=\"assets/images/default.png\">\\n\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\"errors.indexOf(user?.profile_picture) == -1\" src=\"{{IMAGES_URL}}/userprofile/{{user?.profile_picture}}\">\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div class=\"chat_ib\">\\n\\t\\t\\t\\t\\t\\t  <h5>{{user.to_user_type}} <span class=\"chat_date\">{{user.created_at | timeAgo}}</span></h5>\\n\\t\\t\\t\\t\\t\\t  <p>{{user.message}}</p>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\n\\t\\t    </ion-col>\\n\\t\\t\\t<ion-col size-lg=\"8\" size-md=\"9\">\\n\\t\\t\\t\\t<div messages-list>\\t\\n\\t\\t\\t\\t\\t<ng-container *ngIf=\"is_chat_window == true\">\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\"is_chat_loaded == true\">\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t<div chat-head class=\"ion-hide-sm-down\">\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 chat-title> name name </h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\t\\n\\t\\t                    <div top-chat>\\n\\t\\t                    \\t<ng-container *ngFor=\"let chat of chat_list\">\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t<ion-item lines=\"none\" [ngClass]=\"chat.from_user_id == userId ? \\'chat-right\\' : \\'chat-left\\'\" no-padding>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-avatar slot=\"{{chat.from_user_id == userId ? \\'end\\' : \\'start\\'}}\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\"chat.from_user_id == userId\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\"errors.indexOf(chat?.user_profile_picture) >= 0\" src=\"assets/images/default.png\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\"errors.indexOf(chat?.user_profile_picture) == -1\" src=\"{{IMAGES_URL}}/userprofile/{{chat?.user_profile_picture}}\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\"chat.from_user_id != userId\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\"errors.indexOf(chat?.profile_picture) >= 0\" src=\"assets/images/default.png\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<img *ngIf=\"errors.indexOf(chat?.profile_picture) == -1\" src=\"{{IMAGES_URL}}/{{chat?.from_user_type == \\'vendor\\' ? \\'vendors\\' : \\'sub_users\\'}}/{{chat?.profile_picture}}\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-avatar>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-label>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<p>{{chat.message}}</p>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-note><ion-icon name=\"timer\"></ion-icon> {{chat.created_at | timeAgo}}</ion-note>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</ion-label>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ion-item>\\n\\t\\t\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div chat-bottom class=\"ion-hide-sm-down\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<form (ngSubmit)=\"addChat(message)\" name=\"chat_form_web\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-input [(ngModel)]=\"message\" name=\"message\" placeholder=\"Send a Message\"></ion-input>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<ion-button type=\"submit\" color=\"darkred\"> <ion-icon name=\"paper-plane\"></ion-icon></ion-button>\\n\\t\\t\\t\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t\\t<ng-container *ngIf=\"is_chat_loaded == false\">\\n\\t\\t\\t\\t\\t\\t\\t<div top-chat>\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t<h3 chat-title> Loading chat... </h3>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t\\t<ng-container *ngIf=\"is_chat_window == false\">\\n\\t\\t\\t\\t\\t\\t<div top-chat>\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t\\t<h3 chat-title> Click on users list to chat... </h3>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ng-container>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</ion-col>\\n\\t\\t </ion-row>\\t\\n<ion-footer class=\"ion-hide-md-up\">\\t\\n\\t<form (ngSubmit)=\"addChat(message)\" name=\"chat_form\">\\n\\t\\t<div chat-bottom>            \\n\\t\\t\\t<ion-icon attach-icon name=\"attach\"></ion-icon>\\n\\t\\t\\t<ion-input [(ngModel)]=\"message\" name=\"message\" placeholder=\"Send a Message\"></ion-input>\\n\\t\\t\\t<ion-button type=\"submit\" color=\"darkred\"> <ion-icon name=\"paper-plane\"></ion-icon></ion-button>\\n\\t\\t</div>\\n\\t</form>\\t \\n</ion-footer>\\n<app-footer></app-footer>\\t\\t\\t\\t\\t\\t\\t\\t \\n</ion-content>\\n'},TdLt:function(t,n,i){\"use strict\";i.r(n);var o=i(\"mrSG\"),e=i(\"CcnG\"),a=i(\"Ip0R\"),r=i(\"gIcY\"),s=i(\"ZYCi\"),d=i(\"ZZ/e\"),c=i(\"PCNd\"),l=i(\"CFL1\"),h=i(\"Vx+w\"),p=function(){function t(t,n,i,o){this.activatedRoute=t,this.userService=n,this.toastController=i,this.loadingController=o,this.is_chat_window=!1,this.is_chat_loaded=!1,this.errors=[\"\",null,void 0],this.product_id=t.snapshot.paramMap.get(\"product_id\"),this.vendor_type=t.snapshot.paramMap.get(\"vendor_type\"),this.vendor_id=t.snapshot.paramMap.get(\"vendor_id\"),this.IMAGES_URL=h.a.IMAGES_URL}return t.prototype.ngOnInit=function(){},t.prototype.ionViewDidEnter=function(){var t=localStorage.getItem(\"sin_auth_token\");this.userId=this.userService.decryptData(t,h.a.ENC_SALT),0==this.userId&&(this.userId=Math.floor(1e8*Math.random())),this.chatList()},t.prototype.chatList=function(){var t=this;if(this.presentLoading(),this.errors.indexOf(this.product_id)>=0||this.errors.indexOf(this.vendor_type)>=0||this.errors.indexOf(this.vendor_id)>=0)this.getChatUsers();else{var n=localStorage.getItem(\"sin_chat_product_name\"),i=localStorage.getItem(\"sin_chat_pro_unique_id\");this.userService.postData({from_user_id:this.userId,from_user_type:\"user\",product_id:this.product_id,to_user_type:\"0\"==this.vendor_type?\"vendor\":\"admin\",to_user_id:this.vendor_id,message_type:\"text\",message:\"Chat started for product \"+n+\"(\"+i+\")\"},\"addChat\").subscribe(function(n){t.getChatUsers()},function(n){t.stopLoading()})}},t.prototype.getChatUsers=function(){var t=this;this.userService.postData({user_id:this.userId},\"getChatUsers\").subscribe(function(n){t.stopLoading(),t.chat_users=n.users},function(n){t.stopLoading(),t.chat_users=[]})},t.prototype.getChat=function(t){var n=this;this.active_chat=t,this.is_chat_loaded=!1,this.is_chat_window=!0,this.userService.postData({user_id:this.userId,from_user_type:\"user\",to_user_id:this.active_chat.to_user_id,to_user_type:this.active_chat.to_user_type},\"getChat\").subscribe(function(t){console.log(t),n.is_chat_loaded=!0,n.chat_list=t.chat},function(t){n.is_chat_loaded=!0,n.chat_list=[]})},t.prototype.addChat=function(t){var n=this;console.log(\"aaaaaaa\"),-1==this.errors.indexOf(t)&&(this.message=\"\",this.userService.postData({from_user_id:this.userId,from_user_type:\"user\",product_id:this.product_id,to_user_type:this.active_chat.to_user_type,to_user_id:this.active_chat.to_user_id,message_type:\"text\",message:t},\"addChat\").subscribe(function(t){console.log(t),n.chat_list.push(t.chat)},function(t){n.is_chat_loaded=!0}))},t.prototype.presentToast=function(t,n){return o.b(this,void 0,void 0,function(){return o.e(this,function(i){switch(i.label){case 0:return[4,this.toastController.create({message:t,duration:3e3,position:\"bottom\",color:n,showCloseButton:!0})];case 1:return i.sent().present(),[2]}})})},t.prototype.presentLoading=function(){return o.b(this,void 0,void 0,function(){var t;return o.e(this,function(n){switch(n.label){case 0:return t=this,[4,this.loadingController.create()];case 1:return t.loading=n.sent(),[4,this.loading.present()];case 2:return n.sent(),[2]}})})},t.prototype.stopLoading=function(){return o.b(this,void 0,void 0,function(){var t;return o.e(this,function(n){switch(n.label){case 0:return null==this.loading?[3,2]:[4,this.loading.dismiss()];case 1:return n.sent(),[3,3];case 2:t=this,setTimeout(function(){t.stopLoading()},1e3),n.label=3;case 3:return[2]}})})},t=o.c([Object(e.Component)({selector:\"app-messages\",template:i(\"OM9T\"),styles:[i(\"fOj/\")]}),o.f(\"design:paramtypes\",[s.a,l.a,d.m,d.h])],t)}();i.d(n,\"MessagesPageModule\",function(){return u});var g=[{path:\"\",component:p}],u=function(){function t(){}return t=o.c([Object(e.NgModule)({imports:[a.CommonModule,r.a,d.f,s.j.forChild(g),c.a],declarations:[p]})],t)}()},\"fOj/\":function(t,n){t.exports=\"/* Footer Start */\\nion-footer [chat-bottom] {\\n  padding: var(--ion-padding-15) var(--ion-padding-15) var(--ion-padding-10);\\n  display: inline-block;\\n  width: 100%;\\n  border-top: 1px solid var(--ion-color-grey-chat); }\\nion-footer [chat-bottom] ion-input {\\n    background: var(--ion-color-white);\\n    border: 1px solid var(--ion-color-grey-chat);\\n    border-radius: var(--ion-value-30);\\n    width: calc(100% - 50px);\\n    float: left; }\\nion-footer [chat-bottom] [attach-icon] {\\n    position: absolute;\\n    right: 75px;\\n    top: var(--ion-value-28);\\n    z-index: 9;\\n    font-size: var(--ion-font-size-18); }\\nion-footer [chat-bottom] ion-button {\\n    width: var(--ion-wh-40);\\n    float: right;\\n    --border-radius: 50%;\\n    height: var(--ion-wh-40);\\n    font-size: var(--ion-font-size-10);\\n    margin: var(--ion-margin-0); }\\nion-footer [chat-bottom] ion-button ion-icon {\\n      font-size: var(--ion-font-size-20); }\\nion-footer:before {\\n  display: none; }\\n/* Footer Ends */\\nion-content {\\n  --background:var(--ion-color-grey);\\n  /* Messages List Start */\\n  /* Messages List Ends */ }\\n@media only screen and (max-width: 991px) {\\n    ion-content {\\n      --padding-start: var(--ion-padding-0);\\n      --padding-end: var(--ion-padding-0);\\n      --padding-top: var(--ion-padding-0);\\n      --padding-bottom: var(--ion-padding-0); } }\\n@media only screen and (min-width: 991px) {\\n    ion-content {\\n      --padding-top: var(--ion-padding-0); } }\\n@media only screen and (max-width: 991px) {\\n    ion-content .container {\\n      padding: var(--ion-padding-0); } }\\nion-content [messages-list] {\\n    background: var(--ion-color-white);\\n    display: inline-block;\\n    width: 100%;\\n    /*margin:var(--ion-margin-30) var(--ion-margin-0);*/ }\\n@media only screen and (max-width: 767px) {\\n      ion-content [messages-list] {\\n        margin: var(--ion-margin-0);\\n        background: transparent; } }\\n@media only screen and (max-width: 768px) {\\n      ion-content [messages-list] {\\n        margin: var(--ion-margin-0); } }\\nion-content [messages-list] [chat-head] {\\n      padding: var(--ion-padding-15);\\n      border-bottom: 1px solid var(--ion-color-grey-chat); }\\nion-content [messages-list] [chat-head] [chat-title] {\\n        margin: var(--ion-margin-0);\\n        font-weight: 600;\\n        font-size: var(--ion-font-size-16); }\\nion-content [messages-list] [chat-head] p {\\n        margin: var(--ion-margin-0); }\\nion-content [messages-list] [top-chat] {\\n      padding: var(--ion-padding-15); }\\n@media only screen and (max-width: 767px) {\\n        ion-content [messages-list] [top-chat] {\\n          padding: var(--ion-padding-15) var(--ion-padding-0) var(--ion-padding-15) var(--ion-padding-15); } }\\nion-content [messages-list] [chat-bottom] {\\n      padding: var(--ion-padding-15) var(--ion-padding-15) var(--ion-padding-10);\\n      display: inline-block;\\n      width: 100%;\\n      border-top: 1px solid var(--ion-color-grey-chat); }\\nion-content [messages-list] [chat-bottom] ion-input {\\n        background: var(--ion-color-white);\\n        border: 1px solid var(--ion-color-grey-chat);\\n        border-radius: var(--ion-value-30);\\n        width: calc(100% - 50px);\\n        float: left; }\\nion-content [messages-list] [chat-bottom] ion-button {\\n        width: var(--ion-wh-40);\\n        float: right;\\n        --border-radius: 50%;\\n        height: var(--ion-wh-40);\\n        font-size: var(--ion-font-size-10);\\n        margin: var(--ion-margin-0); }\\nion-content [messages-list] [chat-bottom] ion-button ion-icon {\\n          font-size: var(--ion-font-size-20); }\\nion-content [messages-list] ion-item {\\n      --background: transparent; }\\nion-content [messages-list] ion-item.chat-left ion-label {\\n        background: var(--ion-color-grey-chat); }\\n@media only screen and (max-width: 576px) {\\n          ion-content [messages-list] ion-item.chat-left ion-label {\\n            padding: var(--ion-padding-10) var(--ion-padding-10); } }\\nion-content [messages-list] ion-item.chat-right ion-label {\\n        background: var(--ion-color-darkblue); }\\n@media only screen and (max-width: 576px) {\\n          ion-content [messages-list] ion-item.chat-right ion-label {\\n            padding: var(--ion-padding-10) var(--ion-padding-10); } }\\nion-content [messages-list] ion-item.chat-right ion-label p, ion-content [messages-list] ion-item.chat-right ion-label ion-note {\\n          color: var(--ion-color-white); }\\nion-content [messages-list] ion-item.chat-right ion-label:after {\\n          content: '';\\n          right: 90px;\\n          left: initial;\\n          -webkit-transform: rotate(73deg);\\n                  transform: rotate(73deg);\\n          border-color: var(--ion-color-darkblue) transparent transparent; }\\nion-content [messages-list] ion-item ion-label {\\n        border-radius: var(--ion-value-4);\\n        padding: var(--ion-padding-10) var(--ion-padding-10); }\\n@media only screen and (max-width: 576px) {\\n          ion-content [messages-list] ion-item ion-label {\\n            padding: var(--ion-padding-10) var(--ion-padding-10); } }\\nion-content [messages-list] ion-item ion-label p {\\n          font-size: var(--ion-font-size-12);\\n          color: var(--ion-color-black);\\n          white-space: normal; }\\n@media only screen and (max-width: 576px) {\\n            ion-content [messages-list] ion-item ion-label p {\\n              white-space: nowrap;\\n              margin-bottom: var(--ion-margin-0);\\n              line-height: normal; } }\\nion-content [messages-list] ion-item ion-label ion-note {\\n          font-size: var(--ion-font-size-10); }\\nion-content [messages-list] ion-item ion-label:after {\\n          content: '';\\n          border-width: 10px;\\n          border-style: solid;\\n          border-color: #e6e5eb transparent transparent;\\n          position: absolute;\\n          bottom: -1px;\\n          left: 13px;\\n          -webkit-transform: rotate(-73deg);\\n                  transform: rotate(-73deg); }\\nion-content .recent_heading {\\n    float: left;\\n    width: 40%; }\\nion-content .srch_bar {\\n    display: inline-block;\\n    text-align: right;\\n    width: 60%; }\\nion-content .headind_srch {\\n    padding: 10px 29px 10px 20px;\\n    overflow: hidden;\\n    border-bottom: 1px solid var(--ion-color-grey-chat); }\\nion-content .recent_heading h4 {\\n    color: #a01616;\\n    font-size: 16px;\\n    margin: auto;\\n    line-height: 29px; }\\nion-content .srch_bar input {\\n    outline: none;\\n    border: 1px solid var(--ion-color-grey-chat);\\n    border-width: 0 0 1px 0;\\n    width: 80%;\\n    padding: 2px 0 4px 6px;\\n    background: none; }\\nion-content .srch_bar .input-group-addon button {\\n    background: rgba(0, 0, 0, 0) none repeat scroll 0 0;\\n    border: medium none;\\n    padding: 0;\\n    color: #707070;\\n    font-size: 18px; }\\nion-content .srch_bar .input-group-addon {\\n    margin: 0 0 0 -27px; }\\nion-content .chat_ib h5 {\\n    font-size: 15px;\\n    color: #464646;\\n    margin: 0 0 8px 0; }\\nion-content .chat_ib h5 span {\\n    font-size: 13px;\\n    float: right; }\\nion-content .chat_ib p {\\n    font-size: 12px;\\n    color: #989898;\\n    margin: auto;\\n    display: inline-block;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\nion-content .chat_img {\\n    float: left;\\n    width: 11%; }\\nion-content .chat_img img {\\n    width: 100%; }\\nion-content .chat_ib {\\n    float: left;\\n    padding: 0 0 0 15px;\\n    width: 88%; }\\nion-content .chat_people {\\n    overflow: hidden;\\n    clear: both; }\\nion-content .chat_list {\\n    border-bottom: 1px solid var(--ion-color-grey-chat);\\n    margin: 0;\\n    padding: 18px 16px 10px; }\\n\"}}]);","extractedComments":[]}