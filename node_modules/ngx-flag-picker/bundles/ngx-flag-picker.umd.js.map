{"version":3,"file":"ngx-flag-picker.umd.js","sources":["../../../projects/ngx-flag-picker/src/lib/ngx-flag-picker/ngx-flag-picker.component.ts","../../../projects/ngx-flag-picker/src/lib/ngx-flag-picker.module.ts","../../../projects/ngx-flag-picker/src/ngx-flag-picker.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter, ViewChild, ElementRef, Renderer2, ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ngx-flag-picker',\r\n  templateUrl: './ngx-flag-picker.component.html',\r\n  styleUrls: ['./ngx-flag-picker.component.scss']\r\n})\r\nexport class NgxFlagPickerComponent {\r\n  private _isShowListCountryFlags = false;\r\n  set isShowListCountryFlags(value: boolean) {\r\n    this._isShowListCountryFlags = value;\r\n    this.changeDetectorRef.markForCheck();\r\n  }\r\n  get isShowListCountryFlags(): boolean {\r\n    return this._isShowListCountryFlags;\r\n  }\r\n\r\n  @Input() selectedCountryCode: string;\r\n  @Input() countryCodes: string[];\r\n\r\n  @Input() customLabels: Record<string, string>;\r\n\r\n  @Input() showFlags = true;\r\n  @Input() showLabels = true;\r\n  @Input() showArrow = true;\r\n\r\n  @Output() changedCountryCode = new EventEmitter<string>();\r\n\r\n  @ViewChild('selectFlags') selectFlagsElementRef: ElementRef;\r\n\r\n  outsideClickSelectFlags = () => {};\r\n\r\n  constructor(\r\n    private renderer: Renderer2,\r\n    private changeDetectorRef: ChangeDetectorRef,\r\n  ) { }\r\n\r\n  getCountryLabel(countryCode: string): string {\r\n    return (this.customLabels && this.customLabels[countryCode]) ?\r\n      this.customLabels[countryCode] :\r\n      countryCode ? countryCode.toUpperCase() : '';\r\n  }\r\n\r\n  public toggleListCountryFlags(): void {\r\n    if (this.isShowListCountryFlags) {\r\n      this.closeListCountryFlags();\r\n    } else {\r\n      this.openListCountryFlags();\r\n    }\r\n  }\r\n\r\n  private openListCountryFlags(): void {\r\n    this.isShowListCountryFlags = true;\r\n    this.subscribeOutsideClickSelectFlags();\r\n  }\r\n\r\n  private closeListCountryFlags(): void {\r\n    this.isShowListCountryFlags = false;\r\n    this.unsubscribeOutsideClickSelectFlags();\r\n  }\r\n\r\n  public changeSelectedCountryCode(value: string): void {\r\n    this.selectedCountryCode = value;\r\n    this.closeListCountryFlags();\r\n    this.changedCountryCode.emit(this.selectedCountryCode);\r\n  }\r\n\r\n  private subscribeOutsideClickSelectFlags(): void {\r\n    this.outsideClickSelectFlags = this.renderer.listen('document', 'click', (event) => {\r\n      if (!this.selectFlagsElementRef.nativeElement.contains(event.target)) {\r\n        this.closeListCountryFlags();\r\n      }\r\n    });\r\n  }\r\n\r\n  private unsubscribeOutsideClickSelectFlags(): void {\r\n    if (this.outsideClickSelectFlags) {\r\n      this.outsideClickSelectFlags();\r\n      this.outsideClickSelectFlags = undefined;\r\n    }\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgxFlagPickerComponent } from './ngx-flag-picker/ngx-flag-picker.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NgxFlagPickerComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n  ],\r\n  exports: [\r\n    NgxFlagPickerComponent,\r\n  ]\r\n})\r\nexport class NgxFlagPickerModule { }\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","Component","Renderer2","ChangeDetectorRef","Input","Output","ViewChild","NgModule","CommonModule"],"mappings":";;;;;;;QAgCE,gCACU,QAAmB,EACnB,iBAAoC;YADpC,aAAQ,GAAR,QAAQ,CAAW;YACnB,sBAAiB,GAAjB,iBAAiB,CAAmB;YA1BtC,4BAAuB,GAAG,KAAK,CAAC;YAc/B,cAAS,GAAG,IAAI,CAAC;YACjB,eAAU,GAAG,IAAI,CAAC;YAClB,cAAS,GAAG,IAAI,CAAC;YAEhB,uBAAkB,GAAG,IAAIA,iBAAY,EAAU,CAAC;YAI1D,4BAAuB,GAAG,eAAQ,CAAC;SAK9B;QA1BL,sBAAI,0DAAsB;iBAI1B;gBACE,OAAO,IAAI,CAAC,uBAAuB,CAAC;aACrC;iBAND,UAA2B,KAAc;gBACvC,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;gBACrC,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;aACvC;;;WAAA;QAyBD,gDAAe,GAAf,UAAgB,WAAmB;YACjC,OAAO,CAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBACzD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;gBAC9B,WAAW,GAAG,WAAW,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC;SAChD;QAEM,uDAAsB,GAAtB;YACL,IAAI,IAAI,CAAC,sBAAsB,EAAE;gBAC/B,IAAI,CAAC,qBAAqB,EAAE,CAAC;aAC9B;iBAAM;gBACL,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;SACF;QAEO,qDAAoB,GAApB;YACN,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,gCAAgC,EAAE,CAAC;SACzC;QAEO,sDAAqB,GAArB;YACN,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;YACpC,IAAI,CAAC,kCAAkC,EAAE,CAAC;SAC3C;QAEM,0DAAyB,GAAzB,UAA0B,KAAa;YAC5C,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAC7B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;SACxD;QAEO,iEAAgC,GAAhC;YAAA,iBAMP;YALC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,OAAO,EAAE,UAAC,KAAK;gBAC7E,IAAI,CAAC,KAAI,CAAC,qBAAqB,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;oBACpE,KAAI,CAAC,qBAAqB,EAAE,CAAC;iBAC9B;aACF,CAAC,CAAC;SACJ;QAEO,mEAAkC,GAAlC;YACN,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBAChC,IAAI,CAAC,uBAAuB,EAAE,CAAC;gBAC/B,IAAI,CAAC,uBAAuB,GAAG,SAAS,CAAC;aAC1C;SACF;;;;gBA9EFC,cAAS,SAAC;oBACT,QAAQ,EAAE,iBAAiB;oBAC3B,u8BAA+C;;iBAEhD;;;gBANuEC,cAAS;gBAAEC,sBAAiB;;;sCAiBjGC,UAAK;+BACLA,UAAK;+BAELA,UAAK;4BAELA,UAAK;6BACLA,UAAK;4BACLA,UAAK;qCAELC,WAAM;wCAENC,cAAS,SAAC,aAAa;;;;QCb1B;;;;;gBAXCC,aAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,sBAAsB;qBACvB;oBACD,OAAO,EAAE;wBACPC,mBAAY;qBACb;oBACD,OAAO,EAAE;wBACP,sBAAsB;qBACvB;iBACF;;;ICdD;;;;;;;;;;;;;"}